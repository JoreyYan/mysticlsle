# ChillFitRave ç½‘ç«™å…‹éš†é¡¹ç›® - å®Œæ•´æŠ€æœ¯æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®åç§°
ChillFitRave ç”µå•†ç½‘ç«™ 1:1 å…‹éš†

### é¡¹ç›®æè¿°
åŸºäºåŸç½‘ç«™ https://chillfitrave.com/ è¿›è¡Œå®Œæ•´å¤åˆ¶ï¼Œåˆ›å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„èŠ‚æ—¥æ—¶è£…ç”µå•†å¹³å°ã€‚ä¸»è¦ç‰¹è‰²æ˜¯é”€å”®"The 7 Signature range"ç³»åˆ—äº§å“ï¼Œå®šä½ä¸ºé«˜ç«¯æ‰‹å·¥åˆ¶ä½œçš„èŠ‚æ—¥/æ´¾å¯¹æœè£…ã€‚

### ç›®æ ‡ç”¨æˆ·
- éŸ³ä¹èŠ‚å‚ä¸è€…
- æ´¾å¯¹çˆ±å¥½è€…
- èŠ‚æ—¥æ—¶è£…æ¶ˆè´¹è€…
- è¿½æ±‚ä¸ªæ€§åŒ–æœè£…çš„å¹´è½»ç¾¤ä½“

### æ ¸å¿ƒä»·å€¼ä¸»å¼ 
"You were born to stand out!" - æä¾›ç‹¬ç‰¹çš„èŠ‚æ—¥æ—¶è£…å’Œæ´¾å¯¹æœè£…

## ğŸ¯ åŠŸèƒ½éœ€æ±‚åˆ†æ

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 1. ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- **ç”¨æˆ·æ³¨å†Œ/ç™»å½•**
  - é‚®ç®±æ³¨å†Œ
  - ç¤¾äº¤ç™»å½•ï¼ˆGoogle, Facebookï¼‰
  - å¯†ç é‡ç½®
  - é‚®ç®±éªŒè¯

- **ç”¨æˆ·èµ„æ–™ç®¡ç†**
  - ä¸ªäººä¿¡æ¯ç¼–è¾‘
  - å¤´åƒä¸Šä¼ 
  - åœ°å€ç®¡ç†
  - è®¢å•å†å²æŸ¥çœ‹

#### 2. äº§å“å±•ç¤ºç³»ç»Ÿ
- **äº§å“ç›®å½•**
  - äº§å“åˆ†ç±»æµè§ˆ
  - äº§å“æœç´¢åŠŸèƒ½
  - ç­›é€‰å’Œæ’åº
  - åˆ†é¡µåŠ è½½

- **äº§å“è¯¦æƒ…**
  - å¤šå›¾å±•ç¤ºï¼ˆå›¾ç‰‡è½®æ’­ï¼‰
  - äº§å“æè¿°
  - ä»·æ ¼æ˜¾ç¤ºï¼ˆåŸä»·/æŠ˜æ‰£ä»·ï¼‰
  - åº“å­˜çŠ¶æ€
  - å°ºå¯¸é€‰æ‹©
  - é¢œè‰²é€‰æ‹©

- **äº§å“ç®¡ç†**ï¼ˆç®¡ç†å‘˜ï¼‰
  - äº§å“CRUDæ“ä½œ
  - å›¾ç‰‡ä¸Šä¼ ç®¡ç†
  - åº“å­˜ç®¡ç†
  - åˆ†ç±»ç®¡ç†

#### 3. è´­ç‰©è½¦ç³»ç»Ÿ
- **è´­ç‰©è½¦åŠŸèƒ½**
  - æ·»åŠ åˆ°è´­ç‰©è½¦
  - è´­ç‰©è½¦å•†å“ç®¡ç†
  - æ•°é‡ä¿®æ”¹
  - å•†å“åˆ é™¤
  - è´­ç‰©è½¦æŒä¹…åŒ–

- **å®æ—¶æ›´æ–°**
  - åº“å­˜å®æ—¶æ£€æŸ¥
  - ä»·æ ¼å®æ—¶æ›´æ–°
  - è´­ç‰©è½¦æ•°é‡æ˜¾ç¤º

#### 4. è®¢å•ç®¡ç†ç³»ç»Ÿ
- **è®¢å•åˆ›å»º**
  - å•†å“ç¡®è®¤
  - é…é€åœ°å€é€‰æ‹©
  - æ”¯ä»˜æ–¹å¼é€‰æ‹©
  - è®¢å•å¤‡æ³¨

- **è®¢å•å¤„ç†**
  - è®¢å•çŠ¶æ€è·Ÿè¸ª
  - æ”¯ä»˜å¤„ç†
  - å‘è´§é€šçŸ¥
  - è®¢å•å–æ¶ˆ

- **è®¢å•å†å²**
  - è®¢å•åˆ—è¡¨æŸ¥çœ‹
  - è®¢å•è¯¦æƒ…æŸ¥çœ‹
  - é‡æ–°è®¢è´­
  - è®¢å•è¯„ä»·

#### 5. æ”¯ä»˜ç³»ç»Ÿ
- **æ”¯ä»˜æ–¹å¼**
  - "Buy now, Pay later" åŠŸèƒ½
  - ä¿¡ç”¨å¡æ”¯ä»˜
  - PayPalæ”¯ä»˜
  - åˆ†æœŸä»˜æ¬¾

- **æ”¯ä»˜å®‰å…¨**
  - SSLåŠ å¯†
  - æ”¯ä»˜ä¿¡æ¯ä¿æŠ¤
  - æ”¯ä»˜çŠ¶æ€è·Ÿè¸ª

#### 6. å†…å®¹ç®¡ç†
- **é¡µé¢ç®¡ç†**
  - é¦–é¡µè½®æ’­å›¾
  - ä¿ƒé”€æ´»åŠ¨é¡µé¢
  - å…³äºæˆ‘ä»¬é¡µé¢
  - è”ç³»æˆ‘ä»¬é¡µé¢

- **åšå®¢ç³»ç»Ÿ**ï¼ˆå¯é€‰ï¼‰
  - æ—¶å°šèµ„è®¯
  - ç©¿æ­æŒ‡å—
  - æ´»åŠ¨æŠ¥é“

### éåŠŸèƒ½æ€§éœ€æ±‚

#### æ€§èƒ½è¦æ±‚
- é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- å›¾ç‰‡ä¼˜åŒ–å’Œæ‡’åŠ è½½
- CDNåŠ é€Ÿ
- æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–

#### å®‰å…¨è¦æ±‚
- HTTPSå…¨ç«™åŠ å¯†
- ç”¨æˆ·æ•°æ®åŠ å¯†å­˜å‚¨
- SQLæ³¨å…¥é˜²æŠ¤
- XSSæ”»å‡»é˜²æŠ¤
- CSRFä¿æŠ¤

#### å¯ç”¨æ€§è¦æ±‚
- å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯é€‚é…ï¼‰
- æ— éšœç¢è®¿é—®æ”¯æŒ
- æµè§ˆå™¨å…¼å®¹æ€§
- SEOä¼˜åŒ–

#### æ‰©å±•æ€§è¦æ±‚
- å¾®æœåŠ¡æ¶æ„å‡†å¤‡
- æ°´å¹³æ‰©å±•æ”¯æŒ
- ç¼“å­˜ç­–ç•¥
- CDNé›†æˆ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç•Œé¢å±‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Next.js 14 App Router + shadcn/ui + Tailwind CSS          â”‚
â”‚  - React Components                                         â”‚
â”‚  - TypeScript                                              â”‚
â”‚  - Zustand çŠ¶æ€ç®¡ç†                                          â”‚
â”‚  - React Hook Form                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        APIå±‚                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Supabase (æœ¬åœ°å¼€å‘ + äº‘ç«¯éƒ¨ç½²)                               â”‚
â”‚  - è‡ªåŠ¨ç”Ÿæˆ RESTful API                                      â”‚
â”‚  - å®æ—¶æ•°æ®åŒæ­¥                                              â”‚
â”‚  - å†…ç½®è®¤è¯ç³»ç»Ÿ                                              â”‚
â”‚  - æ–‡ä»¶å­˜å‚¨æœåŠ¡                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        æ•°æ®å±‚                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PostgreSQL (Supabaseç®¡ç†)                                 â”‚
â”‚  - å…³ç³»å‹æ•°æ®å­˜å‚¨                                            â”‚
â”‚  - JSONBæ”¯æŒ                                               â”‚
â”‚  - è¡Œçº§å®‰å…¨ç­–ç•¥(RLS)                                         â”‚
â”‚  - å®æ—¶è®¢é˜…                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      ç¬¬ä¸‰æ–¹æœåŠ¡                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - Stripe/PayPal (æ”¯ä»˜)                                     â”‚
â”‚  - Cloudflare/AWS S3 (CDN)                                â”‚
â”‚  - Google Analytics (åˆ†æ)                                  â”‚
â”‚  - Facebook Pixel (å¹¿å‘Š)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆé€‰æ‹©ç†ç”±

#### å‰ç«¯æŠ€æœ¯æ ˆ
- **Next.js 14**:
  - æœåŠ¡ç«¯æ¸²æŸ“(SSR)æå‡SEO
  - é™æ€ç”Ÿæˆ(SSG)æå‡æ€§èƒ½
  - App Routeræä¾›ç°ä»£åŒ–è·¯ç”±
  - å†…ç½®ä¼˜åŒ–åŠŸèƒ½

- **shadcn/ui**:
  - åŸºäºRadix UIçš„æ— éšœç¢ç»„ä»¶
  - å®Œå…¨å¯å®šåˆ¶
  - TypeScriptåŸç”Ÿæ”¯æŒ
  - ç°ä»£è®¾è®¡ç³»ç»Ÿ

- **Tailwind CSS**:
  - åŸå­åŒ–CSS
  - å“åº”å¼è®¾è®¡ç®€å•
  - æ„å»ºä½“ç§¯å°
  - å¼€å‘æ•ˆç‡é«˜

- **Zustand**:
  - è½»é‡çº§çŠ¶æ€ç®¡ç†
  - TypeScriptå‹å¥½
  - æ— æ ·æ¿ä»£ç 
  - æ€§èƒ½ä¼˜å¼‚

#### åç«¯æŠ€æœ¯æ ˆ
- **Supabase**:
  - å¼€æºFirebaseæ›¿ä»£
  - PostgreSQLä¸ºåŸºç¡€
  - å†…ç½®è®¤è¯å’Œæƒé™
  - å®æ—¶æ•°æ®åº“
  - è‡ªåŠ¨APIç”Ÿæˆ
  - æ–‡ä»¶å­˜å‚¨
  - æœ¬åœ°å¼€å‘æ”¯æŒ

#### æ•°æ®åº“é€‰æ‹©
- **PostgreSQL**:
  - ACIDäº‹åŠ¡æ”¯æŒ
  - JSONBçµæ´»æ•°æ®å­˜å‚¨
  - å…¨æ–‡æœç´¢åŠŸèƒ½
  - åœ°ç†ä½ç½®æ”¯æŒ
  - ä¸°å¯Œçš„æ•°æ®ç±»å‹
  - é«˜æ€§èƒ½æŸ¥è¯¢

### éƒ¨ç½²æ¶æ„

#### å¼€å‘ç¯å¢ƒ
```
æœ¬åœ°æœºå™¨
â”œâ”€â”€ Supabase Local (Docker)
â”‚   â”œâ”€â”€ PostgreSQL
â”‚   â”œâ”€â”€ Auth Server
â”‚   â”œâ”€â”€ Storage Server
â”‚   â””â”€â”€ Realtime Server
â”œâ”€â”€ Next.js Dev Server (3000ç«¯å£)
â””â”€â”€ å¼€å‘å·¥å…·
    â”œâ”€â”€ VS Code
    â”œâ”€â”€ Git
    â””â”€â”€ Node.js
```

#### ç”Ÿäº§ç¯å¢ƒ
```
äº‘ç«¯éƒ¨ç½²
â”œâ”€â”€ Vercel/Netlify (å‰ç«¯)
â”‚   â”œâ”€â”€ Next.jsåº”ç”¨
â”‚   â”œâ”€â”€ CDNåŠ é€Ÿ
â”‚   â””â”€â”€ è‡ªåŠ¨éƒ¨ç½²
â”œâ”€â”€ Supabase Cloud (åç«¯)
â”‚   â”œâ”€â”€ PostgreSQLæ•°æ®åº“
â”‚   â”œâ”€â”€ è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ æ–‡ä»¶å­˜å‚¨
â”‚   â””â”€â”€ è¾¹ç¼˜å‡½æ•°
â””â”€â”€ ç¬¬ä¸‰æ–¹æœåŠ¡
    â”œâ”€â”€ Stripe (æ”¯ä»˜)
    â”œâ”€â”€ Cloudflare (CDN)
    â””â”€â”€ ç›‘æ§æœåŠ¡

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡è¯¦è§£

### æ•°æ®åº“æ¦‚è¿°
ä½¿ç”¨PostgreSQLä½œä¸ºä¸»æ•°æ®åº“ï¼Œé€šè¿‡Supabaseè¿›è¡Œç®¡ç†ã€‚æ•°æ®åº“è®¾è®¡éµå¾ªç¬¬ä¸‰èŒƒå¼ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚

### æ ¸å¿ƒæ•°æ®è¡¨è®¾è®¡

#### 1. ç”¨æˆ·ç›¸å…³è¡¨

##### auth.users (Supabaseå†…ç½®è®¤è¯è¡¨)
Supabaseè‡ªåŠ¨ç®¡ç†çš„ç”¨æˆ·è®¤è¯è¡¨ï¼ŒåŒ…å«åŸºæœ¬è®¤è¯ä¿¡æ¯ã€‚

##### public.user_profiles (ç”¨æˆ·èµ„æ–™æ‰©å±•è¡¨)
```sql
CREATE TABLE public.user_profiles (
    id UUID REFERENCES auth.users(id) ON DELETE CASCADE PRIMARY KEY,
    first_name TEXT,
    last_name TEXT,
    phone VARCHAR(20),
    avatar_url TEXT,
    date_of_birth DATE,
    gender VARCHAR(10),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_user_profiles_created_at ON public.user_profiles(created_at);

-- RLSç­–ç•¥
ALTER TABLE public.user_profiles ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can view own profile" ON public.user_profiles
    FOR SELECT USING (auth.uid() = id);
CREATE POLICY "Users can update own profile" ON public.user_profiles
    FOR UPDATE USING (auth.uid() = id);
```

##### public.user_addresses (ç”¨æˆ·åœ°å€è¡¨)
```sql
CREATE TABLE public.user_addresses (
    id BIGSERIAL PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
    type VARCHAR(20) NOT NULL CHECK (type IN ('billing', 'shipping')),
    is_default BOOLEAN DEFAULT FALSE,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    company VARCHAR(100),
    address_line_1 TEXT NOT NULL,
    address_line_2 TEXT,
    city VARCHAR(100) NOT NULL,
    state_province VARCHAR(100),
    postal_code VARCHAR(20) NOT NULL,
    country VARCHAR(100) NOT NULL DEFAULT 'United States',
    phone VARCHAR(20),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_user_addresses_user_id ON public.user_addresses(user_id);
CREATE INDEX idx_user_addresses_type ON public.user_addresses(type);

-- RLSç­–ç•¥
ALTER TABLE public.user_addresses ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can manage own addresses" ON public.user_addresses
    USING (auth.uid() = user_id);
```

#### 2. äº§å“ç›¸å…³è¡¨

##### public.categories (äº§å“åˆ†ç±»è¡¨)
```sql
CREATE TABLE public.categories (
    id BIGSERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    slug VARCHAR(100) UNIQUE NOT NULL,
    description TEXT,
    image_url TEXT,
    parent_id BIGINT REFERENCES public.categories(id) ON DELETE SET NULL,
    sort_order INTEGER DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    meta_title VARCHAR(150),
    meta_description TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_categories_slug ON public.categories(slug);
CREATE INDEX idx_categories_parent_id ON public.categories(parent_id);
CREATE INDEX idx_categories_active ON public.categories(is_active) WHERE is_active = TRUE;

-- å‡½æ•°ï¼šè·å–åˆ†ç±»å±‚çº§è·¯å¾„
CREATE OR REPLACE FUNCTION get_category_path(category_id BIGINT)
RETURNS TEXT AS $$
DECLARE
    path TEXT := '';
    current_id BIGINT := category_id;
    current_name TEXT;
    parent_id BIGINT;
BEGIN
    WHILE current_id IS NOT NULL LOOP
        SELECT name, parent_id INTO current_name, parent_id
        FROM public.categories
        WHERE id = current_id;

        IF path = '' THEN
            path := current_name;
        ELSE
            path := current_name || ' > ' || path;
        END IF;

        current_id := parent_id;
    END LOOP;

    RETURN path;
END;
$$ LANGUAGE plpgsql;
```

##### public.products (äº§å“ä¸»è¡¨)
```sql
CREATE TABLE public.products (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    slug VARCHAR(255) UNIQUE NOT NULL,
    description TEXT,
    short_description TEXT,
    sku VARCHAR(100) UNIQUE NOT NULL,

    -- ä»·æ ¼ä¿¡æ¯
    price DECIMAL(10,2) NOT NULL,
    sale_price DECIMAL(10,2),
    cost_price DECIMAL(10,2),

    -- åº“å­˜ä¿¡æ¯
    manage_stock BOOLEAN DEFAULT TRUE,
    stock_quantity INTEGER DEFAULT 0,
    low_stock_threshold INTEGER DEFAULT 5,

    -- åˆ†ç±»å’ŒçŠ¶æ€
    category_id BIGINT REFERENCES public.categories(id),
    is_active BOOLEAN DEFAULT TRUE,
    is_featured BOOLEAN DEFAULT FALSE,
    is_digital BOOLEAN DEFAULT FALSE,

    -- ç‰©ç†å±æ€§
    weight DECIMAL(8,2),
    dimensions JSONB, -- {length, width, height}

    -- SEO
    meta_title VARCHAR(150),
    meta_description TEXT,

    -- æ—¶é—´æˆ³
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_products_slug ON public.products(slug);
CREATE INDEX idx_products_category_id ON public.products(category_id);
CREATE INDEX idx_products_sku ON public.products(sku);
CREATE INDEX idx_products_active ON public.products(is_active) WHERE is_active = TRUE;
CREATE INDEX idx_products_featured ON public.products(is_featured) WHERE is_featured = TRUE;
CREATE INDEX idx_products_price ON public.products(price);
CREATE INDEX idx_products_created_at ON public.products(created_at DESC);

-- å…¨æ–‡æœç´¢ç´¢å¼•
CREATE INDEX idx_products_search ON public.products
USING GIN(to_tsvector('english', name || ' ' || COALESCE(description, '')));

-- è§¦å‘å™¨ï¼šè‡ªåŠ¨æ›´æ–°updated_at
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_products_updated_at
    BEFORE UPDATE ON public.products
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();
```

##### public.product_images (äº§å“å›¾ç‰‡è¡¨)
```sql
CREATE TABLE public.product_images (
    id BIGSERIAL PRIMARY KEY,
    product_id UUID REFERENCES public.products(id) ON DELETE CASCADE,
    image_url TEXT NOT NULL,
    alt_text VARCHAR(255),
    sort_order INTEGER DEFAULT 0,
    is_primary BOOLEAN DEFAULT FALSE,
    file_size INTEGER, -- bytes
    width INTEGER,
    height INTEGER,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_product_images_product_id ON public.product_images(product_id);
CREATE INDEX idx_product_images_sort_order ON public.product_images(sort_order);
CREATE INDEX idx_product_images_primary ON public.product_images(is_primary) WHERE is_primary = TRUE;

-- ç¡®ä¿æ¯ä¸ªäº§å“åªæœ‰ä¸€ä¸ªä¸»å›¾
CREATE UNIQUE INDEX idx_product_images_one_primary
ON public.product_images(product_id)
WHERE is_primary = TRUE;
```

##### public.product_variants (äº§å“å˜ä½“è¡¨)
```sql
CREATE TABLE public.product_variants (
    id BIGSERIAL PRIMARY KEY,
    product_id UUID REFERENCES public.products(id) ON DELETE CASCADE,
    name VARCHAR(100) NOT NULL, -- å¦‚: "Red - Large"
    sku VARCHAR(100) UNIQUE NOT NULL,
    price DECIMAL(10,2),
    sale_price DECIMAL(10,2),
    stock_quantity INTEGER DEFAULT 0,

    -- å˜ä½“å±æ€§ (JSONæ ¼å¼å­˜å‚¨)
    attributes JSONB NOT NULL, -- {"color": "Red", "size": "Large"}

    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_product_variants_product_id ON public.product_variants(product_id);
CREATE INDEX idx_product_variants_sku ON public.product_variants(sku);
CREATE INDEX idx_product_variants_attributes ON public.product_variants USING GIN(attributes);
```

##### public.product_attributes (äº§å“å±æ€§å®šä¹‰è¡¨)
```sql
CREATE TABLE public.product_attributes (
    id BIGSERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL UNIQUE, -- color, size, material
    display_name VARCHAR(100) NOT NULL, -- Color, Size, Material
    type VARCHAR(50) NOT NULL CHECK (type IN ('text', 'color', 'image')),
    is_required BOOLEAN DEFAULT FALSE,
    sort_order INTEGER DEFAULT 0,
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- åˆå§‹æ•°æ®
INSERT INTO public.product_attributes (name, display_name, type, is_required, sort_order) VALUES
('color', 'Color', 'color', TRUE, 1),
('size', 'Size', 'text', TRUE, 2),
('material', 'Material', 'text', FALSE, 3);
```

##### public.product_attribute_values (å±æ€§å€¼è¡¨)
```sql
CREATE TABLE public.product_attribute_values (
    id BIGSERIAL PRIMARY KEY,
    attribute_id BIGINT REFERENCES public.product_attributes(id) ON DELETE CASCADE,
    value VARCHAR(100) NOT NULL,
    display_value VARCHAR(100) NOT NULL,
    color_code VARCHAR(7), -- for color attributes like #FF0000
    image_url TEXT, -- for image attributes
    sort_order INTEGER DEFAULT 0,
    created_at TIMESTAMPTZ DEFAULT NOW(),

    UNIQUE(attribute_id, value)
);

-- åˆå§‹æ•°æ®
INSERT INTO public.product_attribute_values (attribute_id, value, display_value, color_code, sort_order) VALUES
(1, 'red', 'Red', '#FF0000', 1),
(1, 'blue', 'Blue', '#0000FF', 2),
(1, 'black', 'Black', '#000000', 3),
(2, 'xs', 'XS', NULL, 1),
(2, 's', 'S', NULL, 2),
(2, 'm', 'M', NULL, 3),
(2, 'l', 'L', NULL, 4),
(2, 'xl', 'XL', NULL, 5);
```

#### 3. è´­ç‰©è½¦ç›¸å…³è¡¨

##### public.cart_items (è´­ç‰©è½¦è¡¨)
```sql
CREATE TABLE public.cart_items (
    id BIGSERIAL PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
    product_id UUID REFERENCES public.products(id) ON DELETE CASCADE,
    variant_id BIGINT REFERENCES public.product_variants(id) ON DELETE CASCADE,
    quantity INTEGER NOT NULL DEFAULT 1 CHECK (quantity > 0),
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),

    -- ç¡®ä¿ç”¨æˆ·ä¸ä¼šé‡å¤æ·»åŠ ç›¸åŒçš„äº§å“å˜ä½“
    UNIQUE(user_id, product_id, variant_id)
);

-- ç´¢å¼•
CREATE INDEX idx_cart_items_user_id ON public.cart_items(user_id);
CREATE INDEX idx_cart_items_product_id ON public.cart_items(product_id);

-- RLSç­–ç•¥
ALTER TABLE public.cart_items ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can manage own cart items" ON public.cart_items
    USING (auth.uid() = user_id);

-- è§¦å‘å™¨ï¼šæ›´æ–°updated_at
CREATE TRIGGER trigger_cart_items_updated_at
    BEFORE UPDATE ON public.cart_items
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();
```

#### 4. è®¢å•ç›¸å…³è¡¨

##### public.orders (è®¢å•ä¸»è¡¨)
```sql
CREATE TABLE public.orders (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    order_number VARCHAR(50) UNIQUE NOT NULL,
    user_id UUID REFERENCES auth.users(id) ON DELETE SET NULL,

    -- è®¢å•çŠ¶æ€
    status VARCHAR(50) NOT NULL DEFAULT 'pending'
        CHECK (status IN ('pending', 'processing', 'shipped', 'delivered', 'cancelled', 'refunded')),
    payment_status VARCHAR(50) NOT NULL DEFAULT 'pending'
        CHECK (payment_status IN ('pending', 'paid', 'failed', 'refunded', 'partially_refunded')),

    -- é‡‘é¢ä¿¡æ¯
    subtotal DECIMAL(10,2) NOT NULL,
    tax_amount DECIMAL(10,2) DEFAULT 0,
    shipping_amount DECIMAL(10,2) DEFAULT 0,
    discount_amount DECIMAL(10,2) DEFAULT 0,
    total_amount DECIMAL(10,2) NOT NULL,

    -- åœ°å€ä¿¡æ¯ (JSONæ ¼å¼å­˜å‚¨å¿«ç…§)
    billing_address JSONB NOT NULL,
    shipping_address JSONB NOT NULL,

    -- æ”¯ä»˜ä¿¡æ¯
    payment_method VARCHAR(50),
    payment_reference VARCHAR(255), -- æ”¯ä»˜å¹³å°çš„äº¤æ˜“ID

    -- é…é€ä¿¡æ¯
    shipping_method VARCHAR(100),
    tracking_number VARCHAR(100),

    -- å¤‡æ³¨
    customer_notes TEXT,
    admin_notes TEXT,

    -- æ—¶é—´æˆ³
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW(),
    shipped_at TIMESTAMPTZ,
    delivered_at TIMESTAMPTZ
);

-- ç´¢å¼•
CREATE INDEX idx_orders_user_id ON public.orders(user_id);
CREATE INDEX idx_orders_status ON public.orders(status);
CREATE INDEX idx_orders_payment_status ON public.orders(payment_status);
CREATE INDEX idx_orders_created_at ON public.orders(created_at DESC);
CREATE INDEX idx_orders_number ON public.orders(order_number);

-- å‡½æ•°ï¼šç”Ÿæˆè®¢å•å·
CREATE OR REPLACE FUNCTION generate_order_number()
RETURNS TEXT AS $$
BEGIN
    RETURN 'CF' || TO_CHAR(NOW(), 'YYYYMMDD') ||
           LPAD(NEXTVAL('order_number_seq')::TEXT, 4, '0');
END;
$$ LANGUAGE plpgsql;

-- åºåˆ—å·
CREATE SEQUENCE order_number_seq START 1;

-- è§¦å‘å™¨ï¼šè‡ªåŠ¨ç”Ÿæˆè®¢å•å·
CREATE OR REPLACE FUNCTION set_order_number()
RETURNS TRIGGER AS $$
BEGIN
    IF NEW.order_number IS NULL OR NEW.order_number = '' THEN
        NEW.order_number := generate_order_number();
    END IF;
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_set_order_number
    BEFORE INSERT ON public.orders
    FOR EACH ROW
    EXECUTE FUNCTION set_order_number();

-- RLSç­–ç•¥
ALTER TABLE public.orders ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can view own orders" ON public.orders
    FOR SELECT USING (auth.uid() = user_id);
```

##### public.order_items (è®¢å•é¡¹è¡¨)
```sql
CREATE TABLE public.order_items (
    id BIGSERIAL PRIMARY KEY,
    order_id UUID REFERENCES public.orders(id) ON DELETE CASCADE,
    product_id UUID REFERENCES public.products(id) ON DELETE SET NULL,
    variant_id BIGINT REFERENCES public.product_variants(id) ON DELETE SET NULL,

    -- å•†å“å¿«ç…§ä¿¡æ¯ (é¿å…å•†å“ä¿¡æ¯å˜æ›´å½±å“å†å²è®¢å•)
    product_name VARCHAR(255) NOT NULL,
    product_sku VARCHAR(100) NOT NULL,
    variant_name VARCHAR(100),
    variant_sku VARCHAR(100),

    -- ä»·æ ¼å’Œæ•°é‡
    unit_price DECIMAL(10,2) NOT NULL,
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    total_price DECIMAL(10,2) NOT NULL,

    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_order_items_order_id ON public.order_items(order_id);
CREATE INDEX idx_order_items_product_id ON public.order_items(product_id);

-- RLSç­–ç•¥
ALTER TABLE public.order_items ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can view own order items" ON public.order_items
    USING (
        EXISTS (
            SELECT 1 FROM public.orders
            WHERE id = order_id AND user_id = auth.uid()
        )
    );
```

#### 5. è¥é”€ç›¸å…³è¡¨

##### public.coupons (ä¼˜æƒ åˆ¸è¡¨)
```sql
CREATE TABLE public.coupons (
    id BIGSERIAL PRIMARY KEY,
    code VARCHAR(50) UNIQUE NOT NULL,
    name VARCHAR(100) NOT NULL,
    description TEXT,

    -- æŠ˜æ‰£ç±»å‹å’Œå€¼
    discount_type VARCHAR(20) NOT NULL CHECK (discount_type IN ('percentage', 'fixed_amount')),
    discount_value DECIMAL(10,2) NOT NULL,

    -- ä½¿ç”¨é™åˆ¶
    minimum_amount DECIMAL(10,2) DEFAULT 0,
    maximum_discount DECIMAL(10,2), -- æœ€å¤§æŠ˜æ‰£é‡‘é¢(ä»…é€‚ç”¨äºç™¾åˆ†æ¯”æŠ˜æ‰£)
    usage_limit INTEGER, -- æ€»ä½¿ç”¨æ¬¡æ•°é™åˆ¶
    usage_limit_per_user INTEGER DEFAULT 1, -- æ¯ç”¨æˆ·ä½¿ç”¨æ¬¡æ•°é™åˆ¶
    used_count INTEGER DEFAULT 0,

    -- æ—¶é—´é™åˆ¶
    starts_at TIMESTAMPTZ,
    expires_at TIMESTAMPTZ,

    -- çŠ¶æ€
    is_active BOOLEAN DEFAULT TRUE,

    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç´¢å¼•
CREATE INDEX idx_coupons_code ON public.coupons(code);
CREATE INDEX idx_coupons_active ON public.coupons(is_active) WHERE is_active = TRUE;
CREATE INDEX idx_coupons_expires_at ON public.coupons(expires_at);
```

##### public.coupon_usage (ä¼˜æƒ åˆ¸ä½¿ç”¨è®°å½•)
```sql
CREATE TABLE public.coupon_usage (
    id BIGSERIAL PRIMARY KEY,
    coupon_id BIGINT REFERENCES public.coupons(id) ON DELETE CASCADE,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
    order_id UUID REFERENCES public.orders(id) ON DELETE CASCADE,
    discount_amount DECIMAL(10,2) NOT NULL,
    used_at TIMESTAMPTZ DEFAULT NOW(),

    UNIQUE(coupon_id, order_id)
);
```

### æ•°æ®åº“è§†å›¾å’Œå‡½æ•°

#### äº§å“ç»Ÿè®¡è§†å›¾
```sql
CREATE OR REPLACE VIEW product_stats AS
SELECT
    p.id,
    p.name,
    p.price,
    p.stock_quantity,
    COUNT(oi.id) as total_sold,
    COALESCE(SUM(oi.quantity), 0) as quantity_sold,
    COALESCE(SUM(oi.total_price), 0) as total_revenue
FROM public.products p
LEFT JOIN public.order_items oi ON p.id = oi.product_id
LEFT JOIN public.orders o ON oi.order_id = o.id AND o.status != 'cancelled'
GROUP BY p.id, p.name, p.price, p.stock_quantity;
```

#### ç”¨æˆ·ç»Ÿè®¡è§†å›¾
```sql
CREATE OR REPLACE VIEW user_stats AS
SELECT
    u.id,
    u.email,
    up.first_name,
    up.last_name,
    COUNT(o.id) as total_orders,
    COALESCE(SUM(o.total_amount), 0) as total_spent,
    MAX(o.created_at) as last_order_date
FROM auth.users u
LEFT JOIN public.user_profiles up ON u.id = up.id
LEFT JOIN public.orders o ON u.id = o.user_id AND o.status != 'cancelled'
GROUP BY u.id, u.email, up.first_name, up.last_name;
```

### æ•°æ®åº“ç§å­æ•°æ®
```sql
-- æ’å…¥ç¤ºä¾‹åˆ†ç±»æ•°æ®
INSERT INTO public.categories (name, slug, description) VALUES
('The 7 Signature', 'the-7-signature', 'Our signature collection of festival wear'),
('Festival Tops', 'festival-tops', 'Unique tops perfect for any music festival'),
('Party Bottoms', 'party-bottoms', 'Bottoms that make you stand out at parties'),
('Accessories', 'accessories', 'Complete your look with our accessories');

-- æ’å…¥ç¤ºä¾‹äº§å“æ•°æ®
INSERT INTO public.products (name, slug, description, short_description, sku, price, category_id, is_featured) VALUES
(
    'Neon Dreams Festival Top',
    'neon-dreams-festival-top',
    'Stand out from the crowd with this vibrant neon festival top. Made with premium materials and designed for comfort during long festival days.',
    'Vibrant neon festival top for the ultimate party experience',
    'NDT001',
    89.99,
    2,
    TRUE
),
(
    'Holographic Party Shorts',
    'holographic-party-shorts',
    'These holographic shorts will make you shine under any light. Perfect for raves and night parties.',
    'Holographic shorts that shine under any light',
    'HPS002',
    74.99,
    3,
    TRUE
);
```

## âš›ï¸ å‰ç«¯æ¶æ„è®¾è®¡è¯¦è§£

### é¡¹ç›®ç»“æ„
ä½¿ç”¨ Next.js 14 App Router ç»“æ„ï¼Œç»“åˆç°ä»£åŒ–çš„å¼€å‘å·¥å…·å’Œç»„ä»¶åº“ã€‚

```
frontend/
â”œâ”€â”€ public/                          # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ logo/
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”œâ”€â”€ banners/
â”‚   â”‚   â””â”€â”€ icons/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ robots.txt
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ globals.css            # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ layout.tsx             # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx              # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ loading.tsx           # å…¨å±€åŠ è½½ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ error.tsx             # å…¨å±€é”™è¯¯ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ not-found.tsx         # 404é¡µé¢
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (auth)/               # è®¤è¯è·¯ç”±ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ forgot-password/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ products/             # äº§å“è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx         # äº§å“åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ [slug]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx     # äº§å“è¯¦æƒ…
â”‚   â”‚   â”‚   â””â”€â”€ category/
â”‚   â”‚   â”‚       â””â”€â”€ [slug]/
â”‚   â”‚   â”‚           â””â”€â”€ page.tsx  # åˆ†ç±»é¡µé¢
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ cart/                 # è´­ç‰©è½¦
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ checkout/             # ç»“è´¦æµç¨‹
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx         # ç»“è´¦ä¿¡æ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ payment/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx     # æ”¯ä»˜é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ success/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx     # æ”¯ä»˜æˆåŠŸ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ account/              # ç”¨æˆ·è´¦æˆ·
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx         # è´¦æˆ·é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx     # ä¸ªäººèµ„æ–™
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx     # è®¢å•åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx  # è®¢å•è¯¦æƒ…
â”‚   â”‚   â”‚   â””â”€â”€ addresses/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx     # åœ°å€ç®¡ç†
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ about/                # å…³äºæˆ‘ä»¬
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ contact/              # è”ç³»æˆ‘ä»¬
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ api/                  # APIè·¯ç”± (å¦‚éœ€è¦)
â”‚   â”‚       â”œâ”€â”€ auth/
â”‚   â”‚       â””â”€â”€ webhooks/
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/                   # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ badge.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ form.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ label.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ select.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ separator.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ skeleton.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ toast.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout/               # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Navbar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MobileMenu.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ product/              # äº§å“ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductGrid.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductDetail.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductGallery.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductReviews.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductVariants.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AddToCartButton.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductFilter.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductSort.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ProductSearch.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ cart/                 # è´­ç‰©è½¦ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CartDrawer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CartItem.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CartSummary.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CartIcon.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MiniCart.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ checkout/             # ç»“è´¦ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckoutForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AddressForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderSummary.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ProgressSteps.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ forms/                # è¡¨å•ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfileForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AddressForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ContactForm.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ common/               # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Pagination.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Breadcrumb.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Newsletter.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageUpload.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ConfirmDialog.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ providers/            # Context Providers
â”‚   â”‚       â”œâ”€â”€ AuthProvider.tsx
â”‚   â”‚       â”œâ”€â”€ CartProvider.tsx
â”‚   â”‚       â”œâ”€â”€ ThemeProvider.tsx
â”‚   â”‚       â””â”€â”€ ToastProvider.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                    # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts           # è®¤è¯ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ useCart.ts           # è´­ç‰©è½¦é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ useProducts.ts       # äº§å“æ•°æ®
â”‚   â”‚   â”œâ”€â”€ useOrders.ts         # è®¢å•ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useLocalStorage.ts   # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ useDebounce.ts       # é˜²æŠ–
â”‚   â”‚   â”œâ”€â”€ useInfiniteScroll.ts # æ— é™æ»šåŠ¨
â”‚   â”‚   â””â”€â”€ useSupabase.ts       # Supabaseé›†æˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                     # å·¥å…·å‡½æ•°å’Œé…ç½®
â”‚   â”‚   â”œâ”€â”€ supabase.ts         # Supabaseå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ database.types.ts   # æ•°æ®åº“ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ utils.ts            # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ constants.ts        # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ validations.ts      # è¡¨å•éªŒè¯è§„åˆ™
â”‚   â”‚   â”œâ”€â”€ formatters.ts       # æ•°æ®æ ¼å¼åŒ–
â”‚   â”‚   â””â”€â”€ analytics.ts        # åˆ†æè·Ÿè¸ª
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                   # çŠ¶æ€ç®¡ç† (Zustand)
â”‚   â”‚   â”œâ”€â”€ authStore.ts        # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ cartStore.ts        # è´­ç‰©è½¦çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ productStore.ts     # äº§å“çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ uiStore.ts          # UIçŠ¶æ€
â”‚   â”‚   â””â”€â”€ index.ts            # Storeå¯¼å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                   # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯ç›¸å…³ç±»å‹
â”‚   â”‚   â”œâ”€â”€ product.ts          # äº§å“ç›¸å…³ç±»å‹
â”‚   â”‚   â”œâ”€â”€ cart.ts             # è´­ç‰©è½¦ç±»å‹
â”‚   â”‚   â”œâ”€â”€ order.ts            # è®¢å•ç±»å‹
â”‚   â”‚   â”œâ”€â”€ user.ts             # ç”¨æˆ·ç±»å‹
â”‚   â”‚   â””â”€â”€ api.ts              # APIå“åº”ç±»å‹
â”‚   â”‚
â”‚   â””â”€â”€ styles/                  # æ ·å¼æ–‡ä»¶
â”‚       â”œâ”€â”€ globals.css         # å…¨å±€æ ·å¼
â”‚       â”œâ”€â”€ components.css      # ç»„ä»¶æ ·å¼
â”‚       â””â”€â”€ variables.css       # CSSå˜é‡
â”‚
â”œâ”€â”€ components.json              # shadcn/uié…ç½®
â”œâ”€â”€ next.config.js              # Next.jsé…ç½®
â”œâ”€â”€ tailwind.config.js          # Tailwindé…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScripté…ç½®
â”œâ”€â”€ package.json                # é¡¹ç›®ä¾èµ–
â””â”€â”€ .env.local                  # ç¯å¢ƒå˜é‡
```

### æ ¸å¿ƒæŠ€æœ¯é€‰æ‹©è¯¦è§£

#### 1. Next.js 14 App Router
```typescript
// app/layout.tsx - æ ¹å¸ƒå±€ç»„ä»¶
import type { Metadata } from 'next'
import { Inter } from 'next/font/google'
import { Providers } from '@/components/providers/Providers'
import { Header } from '@/components/layout/Header'
import { Footer } from '@/components/layout/Footer'
import './globals.css'

const inter = Inter({ subsets: ['latin'] })

export const metadata: Metadata = {
  title: 'ChillFit Rave - You were born to stand out!',
  description: 'Premium handcrafted festival fashion and party wear',
  keywords: 'festival fashion, party wear, rave clothing, music festival',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en" className={inter.className}>
      <body>
        <Providers>
          <Header />
          <main className="min-h-screen">
            {children}
          </main>
          <Footer />
        </Providers>
      </body>
    </html>
  )
}
```

#### 2. shadcn/ui ç»„ä»¶ç³»ç»Ÿ
```typescript
// components/ui/button.tsx - æŒ‰é’®ç»„ä»¶ç¤ºä¾‹
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"
import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline: "border border-input hover:bg-accent hover:text-accent-foreground",
        secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "underline-offset-4 hover:underline text-primary",
      },
      size: {
        default: "h-10 py-2 px-4",
        sm: "h-9 px-3 rounded-md",
        lg: "h-11 px-8 rounded-md",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }
```

### å“åº”å¼è®¾è®¡ç­–ç•¥

#### Tailwind CSS é…ç½®
```javascript
// tailwind.config.js
const { fontFamily } = require("tailwindcss/defaultTheme")

module.exports = {
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  theme: {
    container: {
      center: true,
      padding: "2rem",
      screens: {
        "2xl": "1400px",
      },
    },
    extend: {
      colors: {
        border: "hsl(var(--border))",
        input: "hsl(var(--input))",
        ring: "hsl(var(--ring))",
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          DEFAULT: "hsl(var(--primary))",
          foreground: "hsl(var(--foreground))",
        },
        secondary: {
          DEFAULT: "hsl(var(--secondary))",
          foreground: "hsl(var(--secondary-foreground))",
        },
        // ... å…¶ä»–é¢œè‰²é…ç½®
      },
      borderRadius: {
        lg: "var(--radius)",
        md: "calc(var(--radius) - 2px)",
        sm: "calc(var(--radius) - 4px)",
      },
      fontFamily: {
        sans: ["var(--font-sans)", ...fontFamily.sans],
      },
    },
  },
  plugins: [require("tailwindcss-animate")],
}
```

## ğŸ”— Supabase APIè®¾è®¡è§„èŒƒ

### APIæ¶æ„æ¦‚è¿°
ä½¿ç”¨Supabaseè‡ªåŠ¨ç”Ÿæˆçš„RESTful APIï¼Œç»“åˆRow Level Security (RLS)ç­–ç•¥å’Œè‡ªå®šä¹‰è¾¹ç¼˜å‡½æ•°ã€‚

### æ ¸å¿ƒAPIç«¯ç‚¹

#### 1. è®¤è¯ç›¸å…³API
Supabaseå†…ç½®è®¤è¯ç³»ç»Ÿï¼Œæä¾›ä»¥ä¸‹ç«¯ç‚¹ï¼š

```typescript
// ç”¨æˆ·æ³¨å†Œ
POST /auth/v1/signup
Content-Type: application/json
{
  "email": "user@example.com",
  "password": "password123",
  "data": {
    "first_name": "John",
    "last_name": "Doe"
  }
}

// ç”¨æˆ·ç™»å½•
POST /auth/v1/token?grant_type=password
Content-Type: application/json
{
  "email": "user@example.com",
  "password": "password123"
}

// åˆ·æ–°Token
POST /auth/v1/token?grant_type=refresh_token
Content-Type: application/json
{
  "refresh_token": "refresh_token_here"
}

// å¯†ç é‡ç½®
POST /auth/v1/recover
Content-Type: application/json
{
  "email": "user@example.com"
}

// ç™»å‡º
POST /auth/v1/logout
Authorization: Bearer jwt_token_here
```

#### 2. äº§å“ç®¡ç†API

##### äº§å“åˆ—è¡¨
```typescript
// è·å–äº§å“åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€ç­›é€‰ã€æ’åºï¼‰
GET /rest/v1/products?select=*,category:categories(name,slug)&is_active=eq.true&order=created_at.desc&limit=20&offset=0

// å“åº”ç¤ºä¾‹
{
  "data": [
    {
      "id": "uuid-here",
      "name": "Neon Dreams Festival Top",
      "slug": "neon-dreams-festival-top",
      "short_description": "Vibrant neon festival top",
      "price": 89.99,
      "sale_price": null,
      "stock_quantity": 15,
      "is_featured": true,
      "category": {
        "name": "Festival Tops",
        "slug": "festival-tops"
      },
      "created_at": "2024-01-01T00:00:00Z"
    }
  ],
  "count": 1
}
```

##### äº§å“è¯¦æƒ…
```typescript
// è·å–å•ä¸ªäº§å“è¯¦æƒ…ï¼ˆåŒ…å«å›¾ç‰‡ã€å˜ä½“ç­‰ï¼‰
GET /rest/v1/products?select=*,images:product_images(*),variants:product_variants(*),category:categories(*)&slug=eq.neon-dreams-festival-top&single=true

// å“åº”ç¤ºä¾‹
{
  "id": "uuid-here",
  "name": "Neon Dreams Festival Top",
  "slug": "neon-dreams-festival-top",
  "description": "Stand out from the crowd with this vibrant neon festival top...",
  "short_description": "Vibrant neon festival top",
  "price": 89.99,
  "sale_price": null,
  "stock_quantity": 15,
  "is_active": true,
  "is_featured": true,
  "category": {
    "id": 2,
    "name": "Festival Tops",
    "slug": "festival-tops"
  },
  "images": [
    {
      "id": 1,
      "image_url": "https://example.com/image1.jpg",
      "alt_text": "Neon Dreams Festival Top - Front View",
      "is_primary": true,
      "sort_order": 0
    }
  ],
  "variants": [
    {
      "id": 1,
      "name": "Red - Small",
      "sku": "NDT001-R-S",
      "price": 89.99,
      "stock_quantity": 5,
      "attributes": {
        "color": "red",
        "size": "s"
      }
    }
  ]
}
```

##### äº§å“æœç´¢
```typescript
// å…¨æ–‡æœç´¢äº§å“
GET /rest/v1/rpc/search_products
Content-Type: application/json
{
  "search_term": "festival neon",
  "category_id": null,
  "min_price": null,
  "max_price": null,
  "limit": 20,
  "offset": 0
}

// å¯¹åº”çš„æ•°æ®åº“å‡½æ•°
CREATE OR REPLACE FUNCTION search_products(
  search_term TEXT DEFAULT '',
  category_id BIGINT DEFAULT NULL,
  min_price DECIMAL DEFAULT NULL,
  max_price DECIMAL DEFAULT NULL,
  limit_count INTEGER DEFAULT 20,
  offset_count INTEGER DEFAULT 0
)
RETURNS TABLE(
  id UUID,
  name VARCHAR,
  slug VARCHAR,
  short_description TEXT,
  price DECIMAL,
  sale_price DECIMAL,
  stock_quantity INTEGER,
  is_featured BOOLEAN,
  category_name VARCHAR,
  category_slug VARCHAR,
  rank REAL
) AS $$
BEGIN
  RETURN QUERY
  SELECT
    p.id,
    p.name,
    p.slug,
    p.short_description,
    p.price,
    p.sale_price,
    p.stock_quantity,
    p.is_featured,
    c.name as category_name,
    c.slug as category_slug,
    ts_rank(to_tsvector('english', p.name || ' ' || COALESCE(p.description, '')),
            plainto_tsquery('english', search_term)) as rank
  FROM products p
  LEFT JOIN categories c ON p.category_id = c.id
  WHERE
    p.is_active = true
    AND (search_term = '' OR to_tsvector('english', p.name || ' ' || COALESCE(p.description, '')) @@ plainto_tsquery('english', search_term))
    AND (category_id IS NULL OR p.category_id = category_id)
    AND (min_price IS NULL OR p.price >= min_price)
    AND (max_price IS NULL OR p.price <= max_price)
  ORDER BY
    CASE WHEN search_term = '' THEN p.created_at ELSE NULL END DESC,
    CASE WHEN search_term != '' THEN rank ELSE NULL END DESC
  LIMIT limit_count
  OFFSET offset_count;
END;
$$ LANGUAGE plpgsql;
```

#### 3. è´­ç‰©è½¦ç®¡ç†API

##### è´­ç‰©è½¦æ“ä½œ
```typescript
// è·å–ç”¨æˆ·è´­ç‰©è½¦
GET /rest/v1/cart_items?select=*,product:products(*),variant:product_variants(*)&user_id=eq.user_uuid

// æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
POST /rest/v1/cart_items
Content-Type: application/json
Authorization: Bearer jwt_token
{
  "product_id": "product-uuid",
  "variant_id": 1,
  "quantity": 2
}

// æ›´æ–°è´­ç‰©è½¦å•†å“æ•°é‡
PATCH /rest/v1/cart_items?id=eq.cart_item_id
Content-Type: application/json
Authorization: Bearer jwt_token
{
  "quantity": 3
}

// åˆ é™¤è´­ç‰©è½¦å•†å“
DELETE /rest/v1/cart_items?id=eq.cart_item_id
Authorization: Bearer jwt_token
```

#### 4. è®¢å•ç®¡ç†API

##### è®¢å•åˆ›å»º
```typescript
// åˆ›å»ºè®¢å•ï¼ˆä½¿ç”¨æ•°æ®åº“å‡½æ•°ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ï¼‰
POST /rest/v1/rpc/create_order
Content-Type: application/json
Authorization: Bearer jwt_token
{
  "billing_address": {
    "first_name": "John",
    "last_name": "Doe",
    "address_line_1": "123 Main St",
    "city": "New York",
    "postal_code": "10001",
    "country": "United States"
  },
  "shipping_address": {
    "first_name": "John",
    "last_name": "Doe",
    "address_line_1": "123 Main St",
    "city": "New York",
    "postal_code": "10001",
    "country": "United States"
  },
  "payment_method": "stripe",
  "shipping_method": "standard",
  "customer_notes": "Please handle with care"
}

// å¯¹åº”çš„æ•°æ®åº“å‡½æ•°
CREATE OR REPLACE FUNCTION create_order(
  billing_address JSONB,
  shipping_address JSONB,
  payment_method VARCHAR DEFAULT 'stripe',
  shipping_method VARCHAR DEFAULT 'standard',
  customer_notes TEXT DEFAULT NULL
)
RETURNS TABLE(order_id UUID, order_number VARCHAR, total_amount DECIMAL) AS $$
DECLARE
  new_order_id UUID;
  new_order_number VARCHAR;
  cart_total DECIMAL := 0;
  cart_item RECORD;
BEGIN
  -- è®¡ç®—è´­ç‰©è½¦æ€»é‡‘é¢
  SELECT COALESCE(SUM(
    CASE
      WHEN pv.sale_price IS NOT NULL THEN pv.sale_price * ci.quantity
      WHEN pv.price IS NOT NULL THEN pv.price * ci.quantity
      WHEN p.sale_price IS NOT NULL THEN p.sale_price * ci.quantity
      ELSE p.price * ci.quantity
    END
  ), 0) INTO cart_total
  FROM cart_items ci
  JOIN products p ON ci.product_id = p.id
  LEFT JOIN product_variants pv ON ci.variant_id = pv.id
  WHERE ci.user_id = auth.uid();

  -- åˆ›å»ºè®¢å•
  INSERT INTO orders (
    user_id,
    subtotal,
    total_amount,
    billing_address,
    shipping_address,
    payment_method,
    shipping_method,
    customer_notes
  ) VALUES (
    auth.uid(),
    cart_total,
    cart_total, -- ç®€åŒ–ç‰ˆæœ¬ï¼Œä¸åŒ…å«ç¨è´¹å’Œè¿è´¹
    billing_address,
    shipping_address,
    payment_method,
    shipping_method,
    customer_notes
  ) RETURNING id, order_number INTO new_order_id, new_order_number;

  -- åˆ›å»ºè®¢å•é¡¹
  FOR cart_item IN
    SELECT
      ci.*,
      p.name as product_name,
      p.sku as product_sku,
      pv.name as variant_name,
      pv.sku as variant_sku,
      CASE
        WHEN pv.sale_price IS NOT NULL THEN pv.sale_price
        WHEN pv.price IS NOT NULL THEN pv.price
        WHEN p.sale_price IS NOT NULL THEN p.sale_price
        ELSE p.price
      END as unit_price
    FROM cart_items ci
    JOIN products p ON ci.product_id = p.id
    LEFT JOIN product_variants pv ON ci.variant_id = pv.id
    WHERE ci.user_id = auth.uid()
  LOOP
    INSERT INTO order_items (
      order_id,
      product_id,
      variant_id,
      product_name,
      product_sku,
      variant_name,
      variant_sku,
      unit_price,
      quantity,
      total_price
    ) VALUES (
      new_order_id,
      cart_item.product_id,
      cart_item.variant_id,
      cart_item.product_name,
      cart_item.product_sku,
      cart_item.variant_name,
      cart_item.variant_sku,
      cart_item.unit_price,
      cart_item.quantity,
      cart_item.unit_price * cart_item.quantity
    );

    -- æ›´æ–°åº“å­˜
    IF cart_item.variant_id IS NOT NULL THEN
      UPDATE product_variants
      SET stock_quantity = stock_quantity - cart_item.quantity
      WHERE id = cart_item.variant_id;
    ELSE
      UPDATE products
      SET stock_quantity = stock_quantity - cart_item.quantity
      WHERE id = cart_item.product_id;
    END IF;
  END LOOP;

  -- æ¸…ç©ºè´­ç‰©è½¦
  DELETE FROM cart_items WHERE user_id = auth.uid();

  RETURN QUERY SELECT new_order_id, new_order_number, cart_total;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

##### è®¢å•æŸ¥è¯¢
```typescript
// è·å–ç”¨æˆ·è®¢å•åˆ—è¡¨
GET /rest/v1/orders?select=*&user_id=eq.user_uuid&order=created_at.desc

// è·å–è®¢å•è¯¦æƒ…
GET /rest/v1/orders?select=*,items:order_items(*)&id=eq.order_uuid&single=true
```

### APIå“åº”æ ¼å¼è§„èŒƒ

#### æˆåŠŸå“åº”
```typescript
// æ ‡å‡†æˆåŠŸå“åº”
{
  "data": any, // å“åº”æ•°æ®
  "status": "success",
  "message": "Operation completed successfully",
  "meta": { // å¯é€‰çš„å…ƒæ•°æ®
    "total": 100,
    "page": 1,
    "limit": 20
  }
}
```

#### é”™è¯¯å“åº”
```typescript
// æ ‡å‡†é”™è¯¯å“åº”
{
  "error": {
    "code": "INVALID_REQUEST",
    "message": "The request is invalid",
    "details": {
      "field": "email",
      "issue": "Email format is invalid"
    }
  },
  "status": "error"
}
```

### å®æ—¶åŠŸèƒ½è®¾è®¡

#### è´­ç‰©è½¦å®æ—¶åŒæ­¥
```typescript
// ç›‘å¬è´­ç‰©è½¦å˜åŒ–
const cartSubscription = supabase
  .channel('cart_changes')
  .on(
    'postgres_changes',
    {
      event: '*',
      schema: 'public',
      table: 'cart_items',
      filter: `user_id=eq.${userId}`
    },
    (payload) => {
      console.log('Cart updated:', payload)
      // æ›´æ–°æœ¬åœ°çŠ¶æ€
    }
  )
  .subscribe()
```

#### åº“å­˜å®æ—¶æ›´æ–°
```typescript
// ç›‘å¬äº§å“åº“å­˜å˜åŒ–
const stockSubscription = supabase
  .channel('stock_changes')
  .on(
    'postgres_changes',
    {
      event: 'UPDATE',
      schema: 'public',
      table: 'products',
      filter: `id=in.(${productIds.join(',')})`
    },
    (payload) => {
      console.log('Stock updated:', payload)
      // æ›´æ–°äº§å“åˆ—è¡¨
    }
  )
  .subscribe()
```

### æ–‡ä»¶ä¸Šä¼ API

#### äº§å“å›¾ç‰‡ä¸Šä¼ 
```typescript
// ä¸Šä¼ äº§å“å›¾ç‰‡åˆ°Supabase Storage
const uploadProductImage = async (file: File, productId: string) => {
  const fileExt = file.name.split('.').pop()
  const fileName = `${productId}/${Date.now()}.${fileExt}`

  const { data, error } = await supabase.storage
    .from('product-images')
    .upload(fileName, file, {
      cacheControl: '3600',
      upsert: false
    })

  if (error) throw error

  // è·å–å…¬å…±URL
  const { data: { publicUrl } } = supabase.storage
    .from('product-images')
    .getPublicUrl(fileName)

  return publicUrl
}
```

### APIæ€§èƒ½ä¼˜åŒ–

#### æŸ¥è¯¢ä¼˜åŒ–
```sql
-- ç´¢å¼•ä¼˜åŒ–å»ºè®®
CREATE INDEX CONCURRENTLY idx_products_featured_active
ON products(is_featured, is_active)
WHERE is_featured = true AND is_active = true;

CREATE INDEX CONCURRENTLY idx_orders_user_status
ON orders(user_id, status, created_at DESC);

-- è§†å›¾ä¼˜åŒ–
CREATE MATERIALIZED VIEW popular_products AS
SELECT
  p.*,
  COUNT(oi.product_id) as order_count,
  SUM(oi.quantity) as total_sold
FROM products p
LEFT JOIN order_items oi ON p.id = oi.product_id
LEFT JOIN orders o ON oi.order_id = o.id
WHERE o.status != 'cancelled'
  AND o.created_at >= NOW() - INTERVAL '30 days'
GROUP BY p.id
ORDER BY order_count DESC, total_sold DESC;

-- åˆ·æ–°ç‰©åŒ–è§†å›¾çš„å‡½æ•°
CREATE OR REPLACE FUNCTION refresh_popular_products()
RETURNS void AS $$
BEGIN
  REFRESH MATERIALIZED VIEW popular_products;
END;
$$ LANGUAGE plpgsql;
```

### å®‰å…¨ç­–ç•¥

#### Row Level Security (RLS) ç­–ç•¥
```sql
-- ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„è®¢å•
CREATE POLICY "Users can only see their own orders" ON orders
  FOR ALL USING (auth.uid() = user_id);

-- ç”¨æˆ·åªèƒ½ç®¡ç†è‡ªå·±çš„è´­ç‰©è½¦
CREATE POLICY "Users can only manage their own cart" ON cart_items
  FOR ALL USING (auth.uid() = user_id);

-- äº§å“å¯¹æ‰€æœ‰äººå¯è§ï¼Œä½†åªæœ‰ç®¡ç†å‘˜èƒ½ä¿®æ”¹
CREATE POLICY "Products are publicly readable" ON products
  FOR SELECT USING (true);

CREATE POLICY "Only admins can modify products" ON products
  FOR ALL USING (
    EXISTS (
      SELECT 1 FROM user_profiles
      WHERE id = auth.uid()
      AND role = 'admin'
    )
  );
```

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—

### ç³»ç»Ÿè¦æ±‚

#### å¼€å‘æœºå™¨é…ç½®
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11, macOS 10.15+, æˆ– Linux (Ubuntu 20.04+)
- **å†…å­˜**: è‡³å°‘ 8GB RAM (æ¨è 16GB)
- **ç¡¬ç›˜**: è‡³å°‘ 20GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

#### å¿…éœ€è½¯ä»¶
- **Node.js**: ç‰ˆæœ¬ 18.17.0 æˆ–æ›´é«˜
- **npm**: ç‰ˆæœ¬ 9.0.0 æˆ–æ›´é«˜ (æˆ–ä½¿ç”¨ pnpm, yarn)
- **Git**: æœ€æ–°ç‰ˆæœ¬
- **VS Code**: æ¨èçš„ä»£ç ç¼–è¾‘å™¨
- **Docker**: ç”¨äºæœ¬åœ°æ•°æ®åº“ (å¯é€‰ï¼Œæ¨èä½¿ç”¨ Supabase CLI)

### å¼€å‘å·¥å…·å®‰è£…

#### 1. Node.js å’Œ npm å®‰è£…
```bash
# æ£€æŸ¥å½“å‰ç‰ˆæœ¬
node --version
npm --version

# å¦‚æœéœ€è¦å®‰è£…æˆ–å‡çº§ï¼Œæ¨èä½¿ç”¨ nvm (Node Version Manager)
# macOS/Linux
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 18
nvm use 18

# Windows - ä½¿ç”¨ nvm-windows
# ä¸‹è½½å¹¶å®‰è£…: https://github.com/coreybutler/nvm-windows
nvm install 18.17.0
nvm use 18.17.0
```

#### 2. Supabase CLI å®‰è£…
```bash
# ä½¿ç”¨ npm å®‰è£…
npm install -g @supabase/cli

# æˆ–ä½¿ç”¨ Homebrew (macOS)
brew install supabase/tap/supabase

# éªŒè¯å®‰è£…
supabase --version
```

#### 3. VS Code æ‰©å±•æ¨è
åˆ›å»º `.vscode/extensions.json` æ–‡ä»¶ï¼š
```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-typescript-next",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense",
    "ms-vscode.vscode-eslint",
    "supabase.supabase-vscode",
    "ms-vscode.vscode-json",
    "pflannery.vscode-versionlens"
  ]
}
```

### é¡¹ç›®åˆå§‹åŒ–æ­¥éª¤

#### Step 1: åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
```bash
# åˆ›å»ºä¸»é¡¹ç›®ç›®å½•
mkdir chillfitrave-clone
cd chillfitrave-clone

# åˆå§‹åŒ– Git ä»“åº“
git init
```

#### Step 2: åˆå§‹åŒ– Supabase æœ¬åœ°ç¯å¢ƒ
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆå§‹åŒ– Supabase
supabase init

# å¯åŠ¨æœ¬åœ° Supabase æœåŠ¡
supabase start

# æŸ¥çœ‹æœ¬åœ°æœåŠ¡çŠ¶æ€
supabase status
```

æˆåŠŸå¯åŠ¨åï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
```
API URL: http://localhost:54321
GraphQL URL: http://localhost:54321/graphql/v1
DB URL: postgresql://postgres:postgres@localhost:54322/postgres
Studio URL: http://localhost:54323
Inbucket URL: http://localhost:54324
JWT secret: super-secret-jwt-token-with-at-least-32-characters-long
anon key: your-anon-key
service_role key: your-service-role-key
```

#### Step 3: åˆ›å»ºå‰ç«¯é¡¹ç›®
```bash
# åˆ›å»º Next.js é¡¹ç›®
npx create-next-app@latest frontend --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"

# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…æ ¸å¿ƒä¾èµ–
npm install @supabase/supabase-js @supabase/auth-helpers-nextjs
npm install zustand immer
npm install react-hook-form @hookform/resolvers zod
npm install lucide-react class-variance-authority clsx tailwind-merge

# å®‰è£…å¼€å‘ä¾èµ–
npm install -D @types/node
```

#### Step 4: é…ç½® shadcn/ui
```bash
# åœ¨ frontend ç›®å½•ä¸‹åˆå§‹åŒ– shadcn/ui
npx shadcn-ui@latest init

# å®‰è£…å¸¸ç”¨ç»„ä»¶
npx shadcn-ui@latest add button
npx shadcn-ui@latest add input
npx shadcn-ui@latest add label
npx shadcn-ui@latest add card
npx shadcn-ui@latest add dialog
npx shadcn-ui@latest add dropdown-menu
npx shadcn-ui@latest add form
npx shadcn-ui@latest add toast
npx shadcn-ui@latest add badge
npx shadcn-ui@latest add select
npx shadcn-ui@latest add separator
npx shadcn-ui@latest add skeleton
```

### é…ç½®æ–‡ä»¶è®¾ç½®

#### 1. ç¯å¢ƒå˜é‡é…ç½®
åˆ›å»º `frontend/.env.local` æ–‡ä»¶ï¼š
```env
# Supabase é…ç½®
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-from-supabase-status

# åº”ç”¨é…ç½®
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=ChillFit Rave

# ç¬¬ä¸‰æ–¹æœåŠ¡é…ç½® (ç”Ÿäº§ç¯å¢ƒä½¿ç”¨)
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_SECRET_KEY=sk_test_...
# NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=G-...
```

### æ•°æ®åº“é…ç½®

#### 1. åˆ›å»ºæ•°æ®åº“è¿ç§»
åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š
```bash
# åˆ›å»ºåˆå§‹è¿ç§»æ–‡ä»¶
supabase migration new initial_schema

# ç¼–è¾‘è¿ç§»æ–‡ä»¶ (åœ¨ supabase/migrations/ ç›®å½•ä¸­)
# å°†ä¹‹å‰è®¾è®¡çš„æ•°æ®åº“ SQL ä»£ç ç²˜è´´åˆ°è¿ç§»æ–‡ä»¶ä¸­

# åº”ç”¨è¿ç§»
supabase db push

# é‡ç½®æ•°æ®åº“ (å¦‚éœ€è¦)
supabase db reset
```

#### 2. ç”Ÿæˆ TypeScript ç±»å‹
```bash
# ç”Ÿæˆæ•°æ®åº“ç±»å‹å®šä¹‰
supabase gen types typescript --local > frontend/src/lib/database.types.ts
```

### å¼€å‘å·¥ä½œæµç¨‹

#### 1. æ—¥å¸¸å¼€å‘å‘½ä»¤
```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
# Terminal 1: å¯åŠ¨ Supabase (å¦‚æœæ²¡æœ‰è¿è¡Œ)
supabase start

# Terminal 2: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd frontend
npm run dev
```

#### 2. æ•°æ®åº“ç®¡ç†å‘½ä»¤
```bash
# æŸ¥çœ‹ Supabase çŠ¶æ€
supabase status

# è®¿é—®æ•°æ®åº“ç®¡ç†ç•Œé¢
# æµè§ˆå™¨æ‰“å¼€: http://localhost:54323

# é‡ç½®æœ¬åœ°æ•°æ®åº“
supabase db reset

# ç”Ÿæˆæ–°çš„è¿ç§»
supabase migration new migration_name

# åº”ç”¨è¿ç§»
supabase db push
```

## ğŸ“… é¡¹ç›®å®æ–½è®¡åˆ’å’Œé‡Œç¨‹ç¢‘

### é¡¹ç›®æ—¶é—´çº¿æ¦‚è§ˆ

æ•´ä¸ªé¡¹ç›®é¢„è®¡è€—æ—¶ **3-4 å‘¨**ï¼Œåˆ†ä¸º 5 ä¸ªä¸»è¦é˜¶æ®µï¼š

```
Week 1: åŸºç¡€è®¾æ–½æ­å»º + æ ¸å¿ƒåŠŸèƒ½å¼€å‘
â”œâ”€â”€ Phase 1: ç¯å¢ƒæ­å»º (2 å¤©)
â””â”€â”€ Phase 2: æ ¸å¿ƒåç«¯å¼€å‘ (5 å¤©)

Week 2: å‰ç«¯å¼€å‘ + åŸºç¡€é›†æˆ
â”œâ”€â”€ Phase 3: å‰ç«¯æ ¸å¿ƒå¼€å‘ (7 å¤©)

Week 3: é›†æˆæµ‹è¯• + é«˜çº§åŠŸèƒ½
â”œâ”€â”€ Phase 4: å‰åç«¯é›†æˆ + æµ‹è¯• (4 å¤©)
â””â”€â”€ Phase 5: é«˜çº§åŠŸèƒ½å¼€å‘ (3 å¤©)

Week 4: ä¼˜åŒ–éƒ¨ç½² + ä¸Šçº¿
â”œâ”€â”€ æ€§èƒ½ä¼˜åŒ– (2 å¤©)
â”œâ”€â”€ éƒ¨ç½²é…ç½® (2 å¤©)
â””â”€â”€ ä¸Šçº¿æµ‹è¯• (3 å¤©)
```

### Phase 1: åŸºç¡€è®¾æ–½æ­å»º (ç¬¬1-2å¤©)

#### ç›®æ ‡
æ­å»ºå®Œæ•´çš„å¼€å‘ç¯å¢ƒå’Œé¡¹ç›®åŸºç¡€æ¶æ„

#### å…·ä½“ä»»åŠ¡

##### Day 1: ç¯å¢ƒå‡†å¤‡
- [ ] **å¼€å‘ç¯å¢ƒæ­å»º**
  - å®‰è£… Node.js, Supabase CLI
  - é…ç½® VS Code å’Œå¿…è¦æ‰©å±•
  - åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
  - åˆå§‹åŒ– Git ä»“åº“

- [ ] **Supabase æœ¬åœ°ç¯å¢ƒ**
  - åˆå§‹åŒ– Supabase é¡¹ç›®
  - å¯åŠ¨æœ¬åœ° Supabase æœåŠ¡
  - éªŒè¯æ•°æ®åº“è¿æ¥
  - é…ç½®ç¯å¢ƒå˜é‡

##### Day 2: é¡¹ç›®æ¡†æ¶æ­å»º
- [ ] **å‰ç«¯é¡¹ç›®åˆå§‹åŒ–**
  - åˆ›å»º Next.js é¡¹ç›®
  - é…ç½® TypeScript å’Œ ESLint
  - å®‰è£…å’Œé…ç½® shadcn/ui
  - è®¾ç½® Tailwind CSS

- [ ] **æ•°æ®åº“åˆå§‹è®¾è®¡**
  - åˆ›å»ºæ•°æ®åº“è¿ç§»æ–‡ä»¶
  - å®æ–½æ ¸å¿ƒè¡¨ç»“æ„ (users, products, categories)
  - é…ç½® RLS ç­–ç•¥
  - ç”Ÿæˆ TypeScript ç±»å‹å®šä¹‰

#### äº¤ä»˜ç‰©
- âœ… å®Œæ•´çš„å¼€å‘ç¯å¢ƒ
- âœ… è¿è¡Œçš„ Supabase æœ¬åœ°å®ä¾‹
- âœ… Next.js é¡¹ç›®æ¡†æ¶
- âœ… åŸºç¡€æ•°æ®åº“ç»“æ„

#### éªŒæ”¶æ ‡å‡†
- å¼€å‘ç¯å¢ƒèƒ½å¤Ÿæ­£å¸¸å¯åŠ¨
- Supabase Studio å¯ä»¥è®¿é—®
- Next.js å¼€å‘æœåŠ¡å™¨è¿è¡Œæ­£å¸¸
- æ•°æ®åº“è¡¨ç»“æ„åˆ›å»ºæˆåŠŸ

---

### Phase 2: æ ¸å¿ƒåç«¯å¼€å‘ (ç¬¬3-7å¤©)

#### ç›®æ ‡
å®ç°å®Œæ•´çš„æ•°æ®åº“è®¾è®¡å’Œæ ¸å¿ƒ API åŠŸèƒ½

#### å…·ä½“ä»»åŠ¡

##### Day 3: ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] **Supabase Auth é…ç½®**
  - é…ç½®é‚®ç®±è®¤è¯
  - è®¾ç½®ç”¨æˆ·èµ„æ–™æ‰©å±•è¡¨
  - å®ç°ç”¨æˆ·åœ°å€ç®¡ç†
  - åˆ›å»º RLS å®‰å…¨ç­–ç•¥

- [ ] **åŸºç¡€ API æµ‹è¯•**
  - æµ‹è¯•ç”¨æˆ·æ³¨å†Œ/ç™»å½•
  - éªŒè¯ JWT token ç”Ÿæˆ
  - æµ‹è¯•å¯†ç é‡ç½®åŠŸèƒ½

##### Day 4: äº§å“ç®¡ç†ç³»ç»Ÿ
- [ ] **äº§å“æ•°æ®æ¨¡å‹**
  - å®Œå–„äº§å“è¡¨ç»“æ„
  - åˆ›å»ºäº§å“å›¾ç‰‡å…³è”
  - å®ç°äº§å“å˜ä½“ç³»ç»Ÿ
  - è®¾ç½®äº§å“å±æ€§ç®¡ç†

- [ ] **äº§å“ CRUD API**
  - äº§å“åˆ—è¡¨æŸ¥è¯¢ (åˆ†é¡µã€ç­›é€‰ã€æ’åº)
  - äº§å“è¯¦æƒ…æŸ¥è¯¢
  - äº§å“æœç´¢åŠŸèƒ½
  - åˆ†ç±»ç®¡ç† API

##### Day 5: è´­ç‰©è½¦ç³»ç»Ÿ
- [ ] **è´­ç‰©è½¦æ•°æ®æ¨¡å‹**
  - è´­ç‰©è½¦è¡¨è®¾è®¡
  - ç”¨æˆ·è´­ç‰©è½¦å…³è”
  - è´­ç‰©è½¦æŒä¹…åŒ–ç­–ç•¥

- [ ] **è´­ç‰©è½¦ API**
  - æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
  - æ›´æ–°è´­ç‰©è½¦æ•°é‡
  - åˆ é™¤è´­ç‰©è½¦å•†å“
  - è·å–è´­ç‰©è½¦åˆ—è¡¨

##### Day 6: è®¢å•ç®¡ç†ç³»ç»Ÿ
- [ ] **è®¢å•æ•°æ®æ¨¡å‹**
  - è®¢å•è¡¨è®¾è®¡
  - è®¢å•é¡¹å…³è”
  - è®¢å•çŠ¶æ€ç®¡ç†
  - åœ°å€ä¿¡æ¯å­˜å‚¨

- [ ] **è®¢å•å¤„ç†åŠŸèƒ½**
  - åˆ›å»ºè®¢å• API
  - è®¢å•çŠ¶æ€æ›´æ–°
  - åº“å­˜æ‰£å‡é€»è¾‘
  - è®¢å•æŸ¥è¯¢æ¥å£

##### Day 7: é«˜çº§åŠŸèƒ½å’Œä¼˜åŒ–
- [ ] **é«˜çº§ API åŠŸèƒ½**
  - å®ç°å…¨æ–‡æœç´¢åŠŸèƒ½
  - åˆ›å»ºç‰©åŒ–è§†å›¾ä¼˜åŒ–
  - æ‰¹é‡æ“ä½œæ”¯æŒ
  - æ•°æ®ç»Ÿè®¡æ¥å£

- [ ] **æ€§èƒ½ä¼˜åŒ–**
  - æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
  - æŸ¥è¯¢æ€§èƒ½è°ƒä¼˜
  - ç¼“å­˜ç­–ç•¥å®æ–½
  - API å“åº”æ—¶é—´ä¼˜åŒ–

#### äº¤ä»˜ç‰©
- âœ… å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- âœ… äº§å“ç®¡ç† CRUD API
- âœ… è´­ç‰©è½¦ç®¡ç†åŠŸèƒ½
- âœ… è®¢å•å¤„ç†ç³»ç»Ÿ
- âœ… æœç´¢å’Œç­›é€‰åŠŸèƒ½

#### éªŒæ”¶æ ‡å‡†
- æ‰€æœ‰ API ç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½ç¬¦åˆè¦æ±‚
- RLS å®‰å…¨ç­–ç•¥ç”Ÿæ•ˆ
- API å“åº”æ—¶é—´ < 500ms

---

### Phase 3: å‰ç«¯æ ¸å¿ƒå¼€å‘ (ç¬¬8-14å¤©)

#### ç›®æ ‡
æ„å»ºå®Œæ•´çš„ç”¨æˆ·ç•Œé¢å’Œæ ¸å¿ƒäº¤äº’åŠŸèƒ½

#### å…·ä½“ä»»åŠ¡

##### Day 8-9: åŸºç¡€å¸ƒå±€å’Œç»„ä»¶
- [ ] **å¸ƒå±€ç»„ä»¶**
  - Header å¯¼èˆªæ 
  - Footer é¡µè„š
  - ä¾§è¾¹å¯¼èˆªèœå•
  - ç§»åŠ¨ç«¯é€‚é…

- [ ] **åŸºç¡€ UI ç»„ä»¶**
  - æŒ‰é’®ã€è¾“å…¥æ¡†ã€å¡ç‰‡ç­‰
  - åŠ è½½çŠ¶æ€ç»„ä»¶
  - é”™è¯¯å¤„ç†ç»„ä»¶
  - Toast é€šçŸ¥ç»„ä»¶

- [ ] **é¡µé¢è·¯ç”±è®¾ç½®**
  - é…ç½® Next.js App Router
  - åˆ›å»ºåŸºç¡€é¡µé¢ç»„ä»¶
  - è®¾ç½®é¡µé¢å…ƒæ•°æ®
  - 404 é”™è¯¯é¡µé¢

##### Day 10-11: äº§å“å±•ç¤ºåŠŸèƒ½
- [ ] **äº§å“å±•ç¤ºç»„ä»¶**
  - ProductCard äº§å“å¡ç‰‡
  - ProductGrid äº§å“ç½‘æ ¼
  - ProductGallery å›¾ç‰‡è½®æ’­
  - ProductDetail è¯¦æƒ…é¡µé¢

- [ ] **äº§å“äº¤äº’åŠŸèƒ½**
  - äº§å“ç­›é€‰å™¨
  - æ’åºåŠŸèƒ½
  - æœç´¢æ¡†
  - åˆ†é¡µç»„ä»¶

- [ ] **äº§å“é¡µé¢å®ç°**
  - äº§å“åˆ—è¡¨é¡µ (/products)
  - äº§å“è¯¦æƒ…é¡µ (/products/[slug])
  - åˆ†ç±»é¡µé¢ (/category/[slug])

##### Day 12: ç”¨æˆ·è®¤è¯ç•Œé¢
- [ ] **è®¤è¯è¡¨å•**
  - ç™»å½•è¡¨å•ç»„ä»¶
  - æ³¨å†Œè¡¨å•ç»„ä»¶
  - å¯†ç é‡ç½®è¡¨å•
  - è¡¨å•éªŒè¯é€»è¾‘

- [ ] **è®¤è¯é¡µé¢**
  - ç™»å½•é¡µé¢ (/login)
  - æ³¨å†Œé¡µé¢ (/register)
  - å¿˜è®°å¯†ç é¡µé¢
  - é‚®ç®±éªŒè¯é¡µé¢

##### Day 13: è´­ç‰©è½¦åŠŸèƒ½
- [ ] **è´­ç‰©è½¦ç»„ä»¶**
  - CartDrawer è´­ç‰©è½¦æŠ½å±‰
  - CartItem è´­ç‰©è½¦é¡¹
  - CartSummary è´­ç‰©è½¦æ‘˜è¦
  - AddToCartButton æ·»åŠ æŒ‰é’®

- [ ] **è´­ç‰©è½¦é¡µé¢**
  - è´­ç‰©è½¦é¡µé¢ (/cart)
  - è´­ç‰©è½¦å›¾æ ‡æ˜¾ç¤º
  - å®æ—¶æ•°é‡æ›´æ–°
  - è´­ç‰©è½¦æŒä¹…åŒ–

##### Day 14: ç”¨æˆ·è´¦æˆ·åŠŸèƒ½
- [ ] **è´¦æˆ·ç®¡ç†ç»„ä»¶**
  - ä¸ªäººèµ„æ–™è¡¨å•
  - åœ°å€ç®¡ç†ç»„ä»¶
  - è®¢å•å†å²åˆ—è¡¨
  - è®¢å•è¯¦æƒ…å±•ç¤º

- [ ] **è´¦æˆ·é¡µé¢**
  - è´¦æˆ·é¦–é¡µ (/account)
  - ä¸ªäººèµ„æ–™ (/account/profile)
  - åœ°å€ç®¡ç† (/account/addresses)
  - è®¢å•å†å² (/account/orders)

#### äº¤ä»˜ç‰©
- âœ… å®Œæ•´çš„é¡µé¢å¸ƒå±€ç³»ç»Ÿ
- âœ… äº§å“å±•ç¤ºå’Œæœç´¢åŠŸèƒ½
- âœ… ç”¨æˆ·è®¤è¯ç•Œé¢
- âœ… è´­ç‰©è½¦ç®¡ç†ç•Œé¢
- âœ… ç”¨æˆ·è´¦æˆ·ç®¡ç†

#### éªŒæ”¶æ ‡å‡†
- æ‰€æœ‰é¡µé¢å“åº”å¼é€‚é…
- äº¤äº’åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- è¡¨å•éªŒè¯ç¬¦åˆè¦æ±‚
- UI/UX ç¬¦åˆè®¾è®¡è§„èŒƒ

---

### Phase 4: å‰åç«¯é›†æˆä¸æµ‹è¯• (ç¬¬15-18å¤©)

#### ç›®æ ‡
å®ç°å‰åç«¯å®Œæ•´é›†æˆå’Œå…¨é¢æµ‹è¯•

#### å…·ä½“ä»»åŠ¡

##### Day 15: æ•°æ®é›†æˆ
- [ ] **API å®¢æˆ·ç«¯é›†æˆ**
  - é…ç½® Supabase å®¢æˆ·ç«¯
  - å®ç° API è°ƒç”¨å°è£…
  - é”™è¯¯å¤„ç†æœºåˆ¶
  - åŠ è½½çŠ¶æ€ç®¡ç†

- [ ] **çŠ¶æ€ç®¡ç†é›†æˆ**
  - Zustand store é…ç½®
  - è®¤è¯çŠ¶æ€ç®¡ç†
  - è´­ç‰©è½¦çŠ¶æ€åŒæ­¥
  - äº§å“æ•°æ®ç¼“å­˜

##### Day 16: åŠŸèƒ½æµ‹è¯•
- [ ] **æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•**
  - ç”¨æˆ·æ³¨å†Œ/ç™»å½•æµç¨‹
  - äº§å“æµè§ˆå’Œæœç´¢
  - è´­ç‰©è½¦æ·»åŠ /æ›´æ–°/åˆ é™¤
  - è®¢å•åˆ›å»ºæµç¨‹

- [ ] **æ•°æ®åŒæ­¥æµ‹è¯•**
  - å®æ—¶æ•°æ®æ›´æ–°
  - è´­ç‰©è½¦è·¨è®¾å¤‡åŒæ­¥
  - åº“å­˜çŠ¶æ€æ›´æ–°
  - ç”¨æˆ·ä¼šè¯ç®¡ç†

##### Day 17: ç»“è´¦æµç¨‹å¼€å‘
- [ ] **ç»“è´¦ç•Œé¢**
  - ç»“è´¦é¡µé¢ (/checkout)
  - åœ°å€é€‰æ‹©/è¾“å…¥
  - æ”¯ä»˜æ–¹å¼é€‰æ‹©
  - è®¢å•ç¡®è®¤é¡µé¢

- [ ] **ç»“è´¦é€»è¾‘**
  - è®¢å•åˆ›å»ºæµç¨‹
  - åœ°å€éªŒè¯
  - åº“å­˜æ£€æŸ¥
  - æ”¯ä»˜å‰ç½®æ£€æŸ¥

##### Day 18: æ€§èƒ½ä¼˜åŒ–
- [ ] **å‰ç«¯æ€§èƒ½ä¼˜åŒ–**
  - å›¾ç‰‡æ‡’åŠ è½½
  - ä»£ç åˆ†å‰²
  - ç¼“å­˜ç­–ç•¥
  - Bundle å¤§å°ä¼˜åŒ–

- [ ] **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
  - åŠ è½½çŠ¶æ€æ”¹è¿›
  - é”™è¯¯æç¤ºä¼˜åŒ–
  - äº¤äº’åé¦ˆå¢å¼º
  - æ— éšœç¢æ€§æ”¹è¿›

#### äº¤ä»˜ç‰©
- âœ… å®Œæ•´çš„å‰åç«¯é›†æˆ
- âœ… å…¨åŠŸèƒ½æµ‹è¯•é€šè¿‡
- âœ… ç»“è´¦æµç¨‹å®ç°
- âœ… æ€§èƒ½ä¼˜åŒ–å®Œæˆ

#### éªŒæ”¶æ ‡å‡†
- æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸å·¥ä½œ
- å‰åç«¯æ•°æ®åŒæ­¥æ­£ç¡®
- é¡µé¢åŠ è½½æ—¶é—´ < 3 ç§’
- æ— é˜»å¡æ€§é”™è¯¯

---

### Phase 5: é«˜çº§åŠŸèƒ½ä¸éƒ¨ç½² (ç¬¬19-21å¤©)

#### ç›®æ ‡
å®ç°é«˜çº§åŠŸèƒ½å¹¶å‡†å¤‡ç”Ÿäº§éƒ¨ç½²

#### å…·ä½“ä»»åŠ¡

##### Day 19: é«˜çº§åŠŸèƒ½å¼€å‘
- [ ] **æ”¯ä»˜é›†æˆå‡†å¤‡**
  - Stripe æµ‹è¯•ç¯å¢ƒé…ç½®
  - æ”¯ä»˜è¡¨å•ç»„ä»¶
  - æ”¯ä»˜æˆåŠŸ/å¤±è´¥å¤„ç†
  - Webhook å¤„ç†å‡†å¤‡

- [ ] **è¥é”€åŠŸèƒ½**
  - ä¼˜æƒ åˆ¸ç³»ç»Ÿç•Œé¢
  - ä¿ƒé”€æ¨ªå¹…å±•ç¤º
  - æ¨èäº§å“ç®—æ³•
  - Newsletter è®¢é˜…

##### Day 20: ç”Ÿäº§ç¯å¢ƒå‡†å¤‡
- [ ] **ç¯å¢ƒé…ç½®**
  - ç”Ÿäº§ç¯å¢ƒå˜é‡é…ç½®
  - Supabase äº‘ç«¯é¡¹ç›®è®¾ç½®
  - åŸŸåå’Œ SSL é…ç½®
  - CDN é…ç½®å‡†å¤‡

- [ ] **å®‰å…¨åŠ å›º**
  - RLS ç­–ç•¥å®¡æŸ¥
  - API é€Ÿç‡é™åˆ¶
  - è¾“å…¥éªŒè¯åŠ å¼º
  - å®‰å…¨å¤´éƒ¨é…ç½®

##### Day 21: éƒ¨ç½²ä¸ä¸Šçº¿
- [ ] **éƒ¨ç½²æµç¨‹**
  - Vercel/Netlify éƒ¨ç½²é…ç½®
  - è‡ªåŠ¨åŒ–éƒ¨ç½²æµæ°´çº¿
  - æ•°æ®åº“è¿ç§»
  - åŸŸåç»‘å®š

- [ ] **ä¸Šçº¿æ£€æŸ¥**
  - åŠŸèƒ½å®Œæ•´æ€§æµ‹è¯•
  - æ€§èƒ½ç›‘æ§è®¾ç½®
  - é”™è¯¯ç›‘æ§é…ç½®
  - å¤‡ä»½ç­–ç•¥å®æ–½

#### äº¤ä»˜ç‰©
- âœ… é«˜çº§åŠŸèƒ½å®ç°
- âœ… ç”Ÿäº§ç¯å¢ƒå°±ç»ª
- âœ… éƒ¨ç½²æµç¨‹é…ç½®
- âœ… ç›‘æ§ä½“ç³»å»ºç«‹

#### éªŒæ”¶æ ‡å‡†
- ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œ
- æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å¯ç”¨
- ç›‘æ§å’ŒæŠ¥è­¦æ­£å¸¸
- æ€§èƒ½æŒ‡æ ‡ç¬¦åˆè¦æ±‚

---

### é£é™©ç®¡ç†å’Œåº”å¯¹ç­–ç•¥

#### æŠ€æœ¯é£é™©
| é£é™© | æ¦‚ç‡ | å½±å“ | åº”å¯¹ç­–ç•¥ |
|------|------|------|----------|
| Supabase æœ¬åœ°ç¯å¢ƒé—®é¢˜ | ä¸­ | é«˜ | å‡†å¤‡ Docker å¤‡ç”¨æ–¹æ¡ˆ |
| æ•°æ®åº“æ€§èƒ½é—®é¢˜ | ä½ | ä¸­ | æå‰è¿›è¡Œæ€§èƒ½æµ‹è¯• |
| å‰ç«¯å…¼å®¹æ€§é—®é¢˜ | ä¸­ | ä¸­ | ä½¿ç”¨æˆç†Ÿçš„ç»„ä»¶åº“ |
| API é›†æˆé—®é¢˜ | ä½ | é«˜ | è¯¦ç»†çš„ API æ–‡æ¡£å’Œæµ‹è¯• |

#### æ—¶é—´é£é™©
| é£é™© | æ¦‚ç‡ | å½±å“ | åº”å¯¹ç­–ç•¥ |
|------|------|------|----------|
| åŠŸèƒ½éœ€æ±‚å˜æ›´ | ä¸­ | é«˜ | å†»ç»“æ ¸å¿ƒåŠŸèƒ½èŒƒå›´ |
| æŠ€æœ¯å­¦ä¹ æ›²çº¿ | ä¸­ | ä¸­ | æå‰æŠ€æœ¯è°ƒç ” |
| æµ‹è¯•æ—¶é—´ä¸è¶³ | é«˜ | ä¸­ | å¹¶è¡Œå¼€å‘æµ‹è¯• |
| éƒ¨ç½²å»¶è¿Ÿ | ä½ | ä¸­ | æå‰å‡†å¤‡éƒ¨ç½²ç¯å¢ƒ |

### è´¨é‡ä¿è¯è®¡åˆ’

#### ä»£ç è´¨é‡
- **ä»£ç å®¡æŸ¥**: æ‰€æœ‰ä»£ç éƒ½éœ€è¦ç»è¿‡å®¡æŸ¥
- **é™æ€åˆ†æ**: ä½¿ç”¨ ESLint å’Œ TypeScript æ£€æŸ¥
- **å•å…ƒæµ‹è¯•**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æµ‹è¯•è¦†ç›–ç‡ > 70%
- **é›†æˆæµ‹è¯•**: ä¸»è¦ç”¨æˆ·æµç¨‹ç«¯åˆ°ç«¯æµ‹è¯•

#### æ€§èƒ½æ ‡å‡†
- **é¦–å±åŠ è½½æ—¶é—´**: < 3 ç§’
- **API å“åº”æ—¶é—´**: < 500ms
- **SEO å¾—åˆ†**: > 90 åˆ†
- **æ— éšœç¢æ€§**: WCAG 2.1 AA çº§åˆ«

### å›¢é˜Ÿåˆ†å·¥å»ºè®®

#### å‰ç«¯å¼€å‘è€… (1-2äºº)
- React/Next.js ç»„ä»¶å¼€å‘
- UI/UX å®ç°
- çŠ¶æ€ç®¡ç†
- æ€§èƒ½ä¼˜åŒ–

#### åç«¯å¼€å‘è€… (1äºº)
- Supabase é…ç½®
- æ•°æ®åº“è®¾è®¡
- API å¼€å‘
- å®‰å…¨ç­–ç•¥

#### å…¨æ ˆå¼€å‘è€… (1äºº)
- å‰åç«¯é›†æˆ
- éƒ¨ç½²é…ç½®
- æµ‹è¯•å®æ–½
- é—®é¢˜è§£å†³

### éªŒæ”¶æ ‡å‡†æ¸…å•

#### åŠŸèƒ½æ€§è¦æ±‚
- [ ] ç”¨æˆ·å¯ä»¥æ³¨å†Œå’Œç™»å½•
- [ ] ç”¨æˆ·å¯ä»¥æµè§ˆå’Œæœç´¢äº§å“
- [ ] ç”¨æˆ·å¯ä»¥æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
- [ ] ç”¨æˆ·å¯ä»¥åˆ›å»ºå’ŒæŸ¥çœ‹è®¢å•
- [ ] ç®¡ç†å‘˜å¯ä»¥ç®¡ç†äº§å“
- [ ] æ”¯ä»˜æµç¨‹å¯ä»¥æ­£å¸¸å·¥ä½œ

#### éåŠŸèƒ½æ€§è¦æ±‚
- [ ] ç½‘ç«™æ”¯æŒç§»åŠ¨ç«¯è®¿é—®
- [ ] é¡µé¢åŠ è½½æ—¶é—´ç¬¦åˆæ ‡å‡†
- [ ] æ•°æ®å®‰å…¨å¾—åˆ°ä¿éšœ
- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸éƒ¨ç½²ä¸Šçº¿
- [ ] é”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„
- [ ] ç”¨æˆ·ä½“éªŒæµç•…è‡ªç„¶

è¿™ä¸ªè¯¦ç»†çš„å®æ–½è®¡åˆ’ä¸ºé¡¹ç›®æä¾›äº†æ¸…æ™°çš„æ—¶é—´çº¿å’Œå…·ä½“çš„æ‰§è¡Œæ­¥éª¤ã€‚æ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„ç›®æ ‡ã€ä»»åŠ¡åˆ†è§£å’ŒéªŒæ”¶æ ‡å‡†ï¼Œç¡®ä¿é¡¹ç›®èƒ½å¤ŸæŒ‰æ—¶é«˜è´¨é‡å®Œæˆã€‚